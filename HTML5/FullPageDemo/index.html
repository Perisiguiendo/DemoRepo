<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title></title>
  <link rel="stylesheet" href="./css/reset.css">
  <link rel="stylesheet" href="./css/index.css">
</head>

<body>
  <section id="wrap">
    <!-- 流体布局 -->
    <header id="head">
      <!-- 固定布局 -->
      <div class="headMain">
        <!-- logo -->
        <h1 class="logo">
          <a href="javascript:;">
            <img src="./img/logo.png" alt="logo" />
          </a>
        </h1>
        <nav class="nav">
          <ul class="clearfix" id="list">
            <li>
              <a href="javascript:;">
                <div class="up iconfont">&#xe630;</div>
                <div class="down iconfont">&#xe630;</div>
              </a>
            </li>
            <li>
              <a href="javascript:;">
                <div class="up">Course</div>
                <div class="down">Course</div>
              </a>
            </li>
            <li>
              <a href="javascript:;">
                <div class="up">Works</div>
                <div class="down">Works</div>
              </a>
            </li>
            <li>
              <a href="javascript:;">
                <div class="up">About</div>
                <div class="down">About</div>
              </a>
            </li>
            <li>
              <a href="javascript:;">
                <div class="up">Team</div>
                <div class="down">Team</div>
              </a>
            </li>
          </ul>
        </nav>
        <div class="arrow"></div>
      </div>
    </header>
    <main id="content">
      <ul class="page-list">
        <li class="home">
          <section>home</section>
        </li>
        <li class="course">
          <section>
            <header class="commonTitle">
              <span>EINIGE</span><br />
              <span>URSERE</span><br />
              <span>KUNDEN</span><br />
            </header>
            <div class="commonText">
              <p>Das Kundenvertrauen in unsere Kompetenz ist die notwendige Basis einer erfolgreichen Zusammenarbeit,
                gleichzeitig aber auch das größte Lob, das man uns entgegenbringen kann. </p>
              <p>Diese und viele weitere große und kleine Kunden vertrauen uns seit Jahren, was uns stolz macht, und
                dafür sagen wir an dieser Stelle einfach mal.</p>
            </div>
            <div class="picWall">
              <span class="line"></span>
              <span class="line"></span>
              <span class="line"></span>
              <span class="line"></span>
              <span class="line"></span>
              <div class="item">
                <div class="backFace"></div>
                <div class="face">dfdf</div>
              </div>
              <div class="item">
                <div class="backFace"></div>
                <div class="face">dfdf</div>
              </div>
              <div class="item">
                <div class="backFace"></div>
                <div class="face">dfdf</div>
              </div>
              <div class="item">
                <div class="backFace"></div>
                <div class="face">dfddf</div>
              </div>
              <div class="item">
                <div class="backFace"></div>
                <div class="face">dfdfd</div>
              </div>
              <div class="item">
                <div class="backFace"></div>
                <div class="face">dfdfd</div>
              </div>
              <div class="item">
                <div class="backFace"></div>
                <div class="face">dfdf</div>
              </div>
              <div class="item">
                <div class="backFace"></div>
                <div class="face">dfdfd</div>
              </div>
              <div class="item">
                <div class="backFace"></div>
                <div class="face">dfdfd</div>
              </div>
              <div class="item">
                <div class="backFace"></div>
                <div class="face">dfdfd</div>
              </div>
              <div class="item">
                <div class="backFace"></div>
                <div class="face">dfdfd</div>
              </div>
              <div class="item">
                <div class="backFace"></div>
                <div class="face">ddf</div>
              </div>
            </div>

          </section>
        </li>
        <li class="works">
          <section>
            <header class="commonTitle">
              <span>EINIGE</span><br />
              <span>ERKENNTNIS</span><br />
              <span>ERGEBNIS</span><br />
            </header>
            <ul class="list">
              <li class="item">
                <img src="./img/worksimg1.jpg" alt="worksimg1">
                <div class="mask">
                  <span>Das Kundenvertrauen in unsere Kompetenz ist die notwendige Basis einer erfolgreichen
                    Zusammenarbeit, gleichzeitig aber auch das größte Lob, das man uns entgegenbringen kann. </span>
                  <div class="icon"></div>
                </div>
              </li>
              <li class="item">
                <img src="./img/worksimg2.jpg" alt="worksimg2">
                <div class="mask">
                  <span>Kompetenz ist die notwendige Basis einer erfolgreichen Zusammenarbeit, gleichzeitig aber auch
                    das größte Lob, das man uns entgegenbringen kann. </span>
                  <div class="icon"></div>
                </div>
              </li>
              <li class="item">
                <img src="./img/worksimg3.jpg" alt="worksimg3">
                <div class="mask">
                  <span>Basis einer erfolgreichen Zusammenarbeit, gleichzeitig aber auch das größte Lob, das man uns
                    entgegenbringen kann. </span>
                  <div class="icon"></div>
                </div>
              </li>
              <li class="item">
                <img src="./img/worksimg4.jpg" alt="worksimg4">
                <div class="mask">
                  <span>Gleichzeitig aber auch das größte Lob, das man uns entgegenbringen kann. </span>
                  <div class="icon"></div>
                </div>
              </li>

            </ul>
            <div class="robot"></div>
          </section>
        </li>
        <li class="about">
          <section>about</section>
        </li>
        <li class="team">
          <section>team</section>
        </li>
      </ul>
    </main>
  </section>

</body>
<script>
  window.onload = function () {
    const oArrowEl = document.getElementsByClassName('arrow')[0];
    const oliNodes = document.getElementById('list').getElementsByTagName('li');
    const oUpNodes = document.getElementById('list').getElementsByClassName('up');
    const firstLiNode = oliNodes[0];
    const firstUpLiNode = firstLiNode.getElementsByClassName('up')[0];
    let lastIndex = 0; // 记录上次点击的索引
    const oHeadNode = document.getElementById('head');
    const oContentNode = document.getElementById('content');
    const ocLiNodes = oContentNode.getElementsByTagName('li');
    const ocListNode = oContentNode.getElementsByClassName('page-list')[0];
    let timer = null;

    window.onresize = function () {
      contentBind();
      ocListNode.style.top = -lastIndex * (document.documentElement.clientHeight - oHeadNode.offsetHeight) + "px";
      oArrowEl.style.left = oliNodes[lastIndex].offsetLeft + oliNodes[lastIndex].offsetWidth / 2 - oArrowEl
        .offsetWidth / 2 + "px";
    }

    headBind();
    contentBind();

    for (let i = 0; i < oliNodes.length; i++) {
      oliNodes[i].onclick = function () {
        move(i);
      }
    }

    function move(i) {
      oUpNodes[lastIndex].style.width = "";
      oUpNodes[i].style.width = "100%";
      lastIndex = i;
      oArrowEl.style.left = oliNodes[i].offsetLeft + oliNodes[i].offsetWidth / 2 - oArrowEl.offsetWidth / 2 +
        "px";
      ocListNode.style.top = -i * (document.documentElement.clientHeight - oHeadNode.offsetHeight) + "px";
    }

    function headBind() {
      firstUpLiNode.style.width = "100%";
      oArrowEl.style.left = firstLiNode.offsetLeft + firstLiNode.offsetWidth / 2 - oArrowEl.offsetWidth / 2 + "px";
    }

    function contentBind() {
      oContentNode.style.height = document.documentElement.clientHeight - oHeadNode.offsetHeight + "px";
      for (let i = 0; i < ocLiNodes.length; i++) {
        ocLiNodes[i].style.height = document.documentElement.clientHeight - oHeadNode.offsetHeight + "px";
      }
    }
    if (oContentNode.addEventListener) {
      oContentNode.addEventListener("DOMMouseScroll", function (e) {
        e = e || event;
        clearInterval(timer);
        timer = setTimeout(function () {
          fn(e);
        }, 200)
      });
    }
    oContentNode.onmousewheel = function (e) {
      e = e || event;
      clearInterval(timer);
      timer = setTimeout(function () {
        fn(e);
      }, 200)
    }

    function fn(e) {
      e = e || event;

      let dir = "";
      if (e.wheelDelta) {
        dir = e.wheelDelta > 0 ? "up" : "down";
      } else if (e.detail) {
        dir = e.detail < 0 ? "up" : "down";
      }
      switch (dir) {
        case "up":
          if (lastIndex > 0) {
            lastIndex--;
            move(lastIndex);
          }
          break;
        case "down":
          if (lastIndex < ocLiNodes.length - 1) {
            lastIndex++;
            move(lastIndex);
          }
          break;
      }
    }
  }
</script>

</html>